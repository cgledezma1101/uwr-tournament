-#
  Displays the information, and allows manipulating, a game that has already started

  @param Game game The game to be displayed, which should be in a started state
  @param Score score An instance that will be used to add scores to players
.col-xs-12{ style: 'margin-top: 20px;' }
  .col-xs-5
    .panel.panel-primary
      .panel-heading
        %h2.panel-title= game.blue_team.name
      .panel-content
        %ul.list-group
          - game.blue_players.each do |player|
            %li.list-group-item{ id: player.id }
              %span
                = player.number_name
              %span.text-right
                = "G" * game.goals_for(player)

  .col-xs-2.scoreboard.text-center
    %table
      %tr
        %td.text-center
          %h1.js-blue-goals= game.blue_goals
        %td.text-center
          %h1 -
        %td.text-center
          %h1.js-white-goals= game.white_goals
      %tr
        %td.text-center
          %a.btn.btn-primary{ href: '#',
                              data: { toggle: 'modal',
                                      target: '#blueGoalModal' } }
            = t('game.goal')
        %td.text-center
        %td.text-center
          %a.btn.btn-default{ href: '#',
                              data: { toggle: 'modal',
                                      target: '#whiteGoalModal' } }
            = t('game.goal')

  .col-xs-5
    .panel.panel-default
      .panel-heading
        %h2.panel-title= game.white_team.name
      .panel-content
        %ul.list-group
          - game.white_players.each do |player|
            %li.list-group-item{ id: player.id }
              %span
                = player.number_name
              %span.text-right
                = "G" * game.goals_for(player)

/ Modals
.modal.fade#blueGoalModal
  .modal-dialog
    .modal-content
      .modal-header
        %h2.modal-title= t('game.goal_for', team_name: "#{game.blue_team.name}")
      .modal-body
        = form_for score, remote: true do |f|
          .form-group
            = f.hidden_field :game_id, value: game.id
            %h3= t('game.scoring_player')
            = f.collection_select :player_id,
                                  game.blue_players,
                                  :id,
                                  :number_name,
                                  {},
                                  { class: 'form-control' }
            = f.submit t('general.score'), class: 'btn btn-primary form-control'

.modal.fade#whiteGoalModal
  .modal-dialog
    .modal-content
      .modal-header
        %h2.modal-title= t('game.goal_for', team_name: "#{game.white_team.name}")
      .modal-body
        = form_for score, remote: true do |f|
          .form-group
            = f.hidden_field :game_id, value: game.id
            %h3= t('game.scoring_player')
            = f.collection_select :player_id,
                                  game.white_players,
                                  :id,
                                  :number_name,
                                  {},
                                  { class: 'form-control' }
            = f.submit t('general.score'), class: 'btn btn-default form-control'
